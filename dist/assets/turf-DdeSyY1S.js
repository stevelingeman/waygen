import{c as Gt,g as Nt,a as _t}from"./mapbox-C3udIXGP.js";function Ue(r,t,e){if(r!==null)for(var n,a,i,f,l,o,s,p=0,v=0,m,w=r.type,P=w==="FeatureCollection",A=w==="Feature",C=P?r.features.length:1,$=0;$<C;$++){s=P?r.features[$].geometry:A?r.geometry:r,m=s?s.type==="GeometryCollection":!1,l=m?s.geometries.length:1;for(var c=0;c<l;c++){var u=0,y=0;if(f=m?s.geometries[c]:s,f!==null){o=f.coordinates;var h=f.type;switch(p=0,h){case null:break;case"Point":if(t(o,v,$,u,y)===!1)return!1;v++,u++;break;case"LineString":case"MultiPoint":for(n=0;n<o.length;n++){if(t(o[n],v,$,u,y)===!1)return!1;v++,h==="MultiPoint"&&u++}h==="LineString"&&u++;break;case"Polygon":case"MultiLineString":for(n=0;n<o.length;n++){for(a=0;a<o[n].length-p;a++){if(t(o[n][a],v,$,u,y)===!1)return!1;v++}h==="MultiLineString"&&u++,h==="Polygon"&&y++}h==="Polygon"&&u++;break;case"MultiPolygon":for(n=0;n<o.length;n++){for(y=0,a=0;a<o[n].length;a++){for(i=0;i<o[n][a].length-p;i++){if(t(o[n][a][i],v,$,u,y)===!1)return!1;v++}y++}u++}break;case"GeometryCollection":for(n=0;n<f.geometries.length;n++)if(Ue(f.geometries[n],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function mr(r){var t=[1/0,1/0,-1/0,-1/0];return Ue(r,function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])}),t}mr.default=mr;const Dt=Object.freeze(Object.defineProperty({__proto__:null,default:mr},Symbol.toStringTag,{value:"Module"}));function N(r){if(!r)throw new Error("coord is required");if(!Array.isArray(r)){if(r.type==="Feature"&&r.geometry!==null&&r.geometry.type==="Point")return r.geometry.coordinates;if(r.type==="Point")return r.coordinates}if(Array.isArray(r)&&r.length>=2&&!Array.isArray(r[0])&&!Array.isArray(r[1]))return r;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function z(r){if(Array.isArray(r))return r;if(r.type==="Feature"){if(r.geometry!==null)return r.geometry.coordinates}else if(r.coordinates)return r.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function xe(r){return r.type==="Feature"?r.geometry:r}function re(r,t){return r.type==="FeatureCollection"?"FeatureCollection":r.type==="GeometryCollection"?"GeometryCollection":r.type==="Feature"&&r.geometry!==null?r.geometry.type:r.type}function Ki(r,t,e){if(e===void 0&&(e={}),!r)throw new Error("point is required");if(!t)throw new Error("polygon is required");var n=N(r),a=xe(t),i=a.type,f=t.bbox,l=a.coordinates;if(f&&Tt(n,f)===!1)return!1;i==="Polygon"&&(l=[l]);for(var o=!1,s=0;s<l.length&&!o;s++)if(ee(n,l[s][0],e.ignoreBoundary)){for(var p=!1,v=1;v<l[s].length&&!p;)ee(n,l[s][v],!e.ignoreBoundary)&&(p=!0),v++;p||(o=!0)}return o}function ee(r,t,e){var n=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var a=0,i=t.length-1;a<t.length;i=a++){var f=t[a][0],l=t[a][1],o=t[i][0],s=t[i][1],p=r[1]*(f-o)+l*(o-r[0])+s*(r[0]-f)===0&&(f-r[0])*(o-r[0])<=0&&(l-r[1])*(s-r[1])<=0;if(p)return!e;var v=l>r[1]!=s>r[1]&&r[0]<(o-f)*(r[1]-l)/(s-l)+f;v&&(n=!n)}return n}function Tt(r,t){return t[0]<=r[0]&&t[1]<=r[1]&&t[2]>=r[0]&&t[3]>=r[1]}var Y=63710088e-1,Yt={centimeters:Y*100,centimetres:Y*100,degrees:Y/111325,feet:Y*3.28084,inches:Y*39.37,kilometers:Y/1e3,kilometres:Y/1e3,meters:Y,metres:Y,miles:Y/1609.344,millimeters:Y*1e3,millimetres:Y*1e3,nauticalmiles:Y/1852,radians:1,yards:Y*1.0936};function qt(r,t){t===void 0&&(t="kilometers");var e=Yt[t];if(!e)throw new Error(t+" units is invalid");return r*e}function vr(r){var t=r%360;return t*Math.PI/180}function W(r,t,e){e===void 0&&(e={});var n=N(r),a=N(t),i=vr(a[1]-n[1]),f=vr(a[0]-n[0]),l=vr(n[1]),o=vr(a[1]),s=Math.pow(Math.sin(i/2),2)+Math.pow(Math.sin(f/2),2)*Math.cos(l)*Math.cos(o);return qt(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),e.units)}const Qi=Object.freeze(Object.defineProperty({__proto__:null,default:W},Symbol.toStringTag,{value:"Module"}));function Xt(r){var t=r[0],e=r[1],n=r[2],a=r[3],i=W(r.slice(0,2),[n,e]),f=W(r.slice(0,2),[t,a]);if(i>=f){var l=(e+a)/2;return[t,l-(n-t)/2,n,l+(n-t)/2]}else{var o=(t+n)/2;return[o-(a-e)/2,e,o+(a-e)/2,a]}}var q=63710088e-1,Ut={centimeters:q*100,centimetres:q*100,degrees:q/111325,feet:q*3.28084,inches:q*39.37,kilometers:q/1e3,kilometres:q/1e3,meters:q,metres:q,miles:q/1609.344,millimeters:q*1e3,millimetres:q*1e3,nauticalmiles:q/1852,radians:1,yards:q*1.0936};function xt(r,t,e){e===void 0&&(e={});var n={type:"Feature"};return(e.id===0||e.id)&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.properties=t||{},n.geometry=r,n}function Wt(r,t,e){if(e===void 0&&(e={}),!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ne(r[0])||!ne(r[1]))throw new Error("coordinates must contain numbers");var n={type:"Point",coordinates:r};return xt(n,t,e)}function Jt(r,t){t===void 0&&(t="kilometers");var e=Ut[t];if(!e)throw new Error(t+" units is invalid");return r/e}function te(r){var t=r%(2*Math.PI);return t*180/Math.PI}function $r(r){var t=r%360;return t*Math.PI/180}function ne(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}function ar(r,t,e,n){n===void 0&&(n={});var a=N(r),i=$r(a[0]),f=$r(a[1]),l=$r(e),o=Jt(t,n.units),s=Math.asin(Math.sin(f)*Math.cos(o)+Math.cos(f)*Math.sin(o)*Math.cos(l)),p=i+Math.atan2(Math.sin(l)*Math.sin(o)*Math.cos(f),Math.cos(o)-Math.sin(f)*Math.sin(s)),v=te(p),m=te(s);return Wt([v,m],n.properties)}function zt(r,t,e){e===void 0&&(e={});var n={type:"Feature"};return(e.id===0||e.id)&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.properties=t||{},n.geometry=r,n}function Ht(r,t,e){e===void 0&&(e={});for(var n=0,a=r;n<a.length;n++){var i=a[n];if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var f=0;f<i[i.length-1].length;f++)if(i[i.length-1][f]!==i[0][f])throw new Error("First and last Position are not equivalent.")}var l={type:"Polygon",coordinates:r};return zt(l,t,e)}function Vt(r,t,e){e===void 0&&(e={});for(var n=e.steps||64,a=e.properties?e.properties:!Array.isArray(r)&&r.type==="Feature"&&r.properties?r.properties:{},i=[],f=0;f<n;f++)i.push(ar(r,t,f*-360/n,e).geometry.coordinates);return i.push(i[0]),Ht([i],a)}const Zi=Object.freeze(Object.defineProperty({__proto__:null,default:Vt},Symbol.toStringTag,{value:"Module"}));function Kt(r){var t=r%(2*Math.PI);return t*180/Math.PI}function hr(r){var t=r%360;return t*Math.PI/180}function Mr(r,t,e){if(e===void 0&&(e={}),e.final===!0)return Qt(r,t);var n=N(r),a=N(t),i=hr(n[0]),f=hr(a[0]),l=hr(n[1]),o=hr(a[1]),s=Math.sin(f-i)*Math.cos(o),p=Math.cos(l)*Math.sin(o)-Math.sin(l)*Math.cos(o)*Math.cos(f-i);return Kt(Math.atan2(s,p))}function Qt(r,t){var e=Mr(t,r);return e=(e+180)%360,e}function Ii(r,t){var e=W(r,t),n=Mr(r,t),a=ar(r,e/2,n);return a}function Zt(r,t,e){e===void 0&&(e={});var n={type:"Feature"};return(e.id===0||e.id)&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.properties=t||{},n.geometry=r,n}function It(r,t,e){if(e===void 0&&(e={}),!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ae(r[0])||!ae(r[1]))throw new Error("coordinates must contain numbers");var n={type:"Point",coordinates:r};return Zt(n,t,e)}function ae(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}function We(r,t,e){if(r!==null)for(var n,a,i,f,l,o,s,p=0,v=0,m,w=r.type,P=w==="FeatureCollection",A=w==="Feature",C=P?r.features.length:1,$=0;$<C;$++){s=P?r.features[$].geometry:A?r.geometry:r,m=s?s.type==="GeometryCollection":!1,l=m?s.geometries.length:1;for(var c=0;c<l;c++){var u=0,y=0;if(f=m?s.geometries[c]:s,f!==null){o=f.coordinates;var h=f.type;switch(p=h==="Polygon"||h==="MultiPolygon"?1:0,h){case null:break;case"Point":if(t(o,v,$,u,y)===!1)return!1;v++,u++;break;case"LineString":case"MultiPoint":for(n=0;n<o.length;n++){if(t(o[n],v,$,u,y)===!1)return!1;v++,h==="MultiPoint"&&u++}h==="LineString"&&u++;break;case"Polygon":case"MultiLineString":for(n=0;n<o.length;n++){for(a=0;a<o[n].length-p;a++){if(t(o[n][a],v,$,u,y)===!1)return!1;v++}h==="MultiLineString"&&u++,h==="Polygon"&&y++}h==="Polygon"&&u++;break;case"MultiPolygon":for(n=0;n<o.length;n++){for(y=0,a=0;a<o[n].length;a++){for(i=0;i<o[n][a].length-p;i++){if(t(o[n][a][i],v,$,u,y)===!1)return!1;v++}y++}u++}break;case"GeometryCollection":for(n=0;n<f.geometries.length;n++)if(We(f.geometries[n],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function jt(r,t){t===void 0&&(t={});var e=0,n=0,a=0;return We(r,function(i){e+=i[0],n+=i[1],a++}),It([e/a,n/a],t.properties)}function _r(r,t,e){e===void 0&&(e={});var n={type:"Feature"};return(e.id===0||e.id)&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.properties={},n.geometry=r,n}function rn(r,t,e){if(e===void 0&&(e={}),!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!oe(r[0])||!oe(r[1]))throw new Error("coordinates must contain numbers");var n={type:"Point",coordinates:r};return _r(n,t,e)}function ie(r,t){t===void 0&&(t={});var e={type:"FeatureCollection"};return t.id&&(e.id=t.id),t.bbox&&(e.bbox=t.bbox),e.features=r,e}function oe(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}function Dr(r,t,e){e===void 0&&(e={});var n={type:"Feature"};return(e.id===0||e.id)&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.properties=t||{},n.geometry=r,n}function en(r,t,e){if(e===void 0&&(e={}),r.length<2)throw new Error("coordinates must be an array of two or more positions");var n={type:"LineString",coordinates:r};return Dr(n,t,e)}function tn(r,t){t===void 0&&(t={});var e={type:"FeatureCollection"};return t.id&&(e.id=t.id),t.bbox&&(e.bbox=t.bbox),e.features=r,e}function nn(r,t){var e,n,a,i,f,l,o,s,p,v,m=0,w=r.type==="FeatureCollection",P=r.type==="Feature",A=w?r.features.length:1;for(e=0;e<A;e++){for(l=w?r.features[e].geometry:P?r.geometry:r,s=w?r.features[e].properties:P?r.properties:{},p=w?r.features[e].bbox:P?r.bbox:void 0,v=w?r.features[e].id:P?r.id:void 0,o=l?l.type==="GeometryCollection":!1,f=o?l.geometries.length:1,a=0;a<f;a++){if(i=o?l.geometries[a]:l,i===null){if(t(null,m,s,p,v)===!1)return!1;continue}switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(i,m,s,p,v)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<i.geometries.length;n++)if(t(i.geometries[n],m,s,p,v)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}m++}}function an(r,t){nn(r,function(e,n,a,i,f){var l=e===null?null:e.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return t(Dr(e,a,{bbox:i,id:f}),n,0)===!1?!1:void 0}var o;switch(l){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon";break}for(var s=0;s<e.coordinates.length;s++){var p=e.coordinates[s],v={type:o,coordinates:p};if(t(Dr(v,a),n,s)===!1)return!1}})}function Tr(r){if(!r)throw new Error("geojson is required");var t=[];return an(r,function(e){on(e,t)}),tn(t)}function on(r,t){var e=[],n=r.geometry;if(n!==null){switch(n.type){case"Polygon":e=z(n);break;case"LineString":e=[z(n)]}e.forEach(function(a){var i=fn(a,r.properties);i.forEach(function(f){f.id=t.length,t.push(f)})})}}function fn(r,t){var e=[];return r.reduce(function(n,a){var i=en([n,a],t);return i.bbox=ln(n,a),e.push(i),a}),e}function ln(r,t){var e=r[0],n=r[1],a=t[0],i=t[1],f=e<a?e:a,l=n<i?n:i,o=e>a?e:a,s=n>i?n:i;return[f,l,o,s]}function fe(r,t){if(r.type==="Feature")t(r,0);else if(r.type==="FeatureCollection")for(var e=0;e<r.features.length&&t(r.features[e],e)!==!1;e++);}var Wr={exports:{}},Je={exports:{}};(function(r,t){(function(e,n){r.exports=n()})(Gt,function(){function e(c,u,y,h,S){(function M(E,R,F,g,b){for(;g>F;){if(g-F>600){var d=g-F+1,O=R-F+1,X=Math.log(d),T=.5*Math.exp(2*X/3),U=.5*Math.sqrt(X*T*(d-T)/d)*(O-d/2<0?-1:1),H=Math.max(F,Math.floor(R-O*T/d+U)),kt=Math.min(g,Math.floor(R+(d-O)*T/d+U));M(E,R,H,kt,b)}var yr=E[R],er=F,x=g;for(n(E,F,R),b(E[g],yr)>0&&n(E,F,g);er<x;){for(n(E,er,x),er++,x--;b(E[er],yr)<0;)er++;for(;b(E[x],yr)>0;)x--}b(E[F],yr)===0?n(E,F,x):n(E,++x,g),x<=R&&(F=x+1),R<=x&&(g=x-1)}})(c,u,y||0,h||c.length-1,S||a)}function n(c,u,y){var h=c[u];c[u]=c[y],c[y]=h}function a(c,u){return c<u?-1:c>u?1:0}var i=function(c){c===void 0&&(c=9),this._maxEntries=Math.max(4,c),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function f(c,u,y){if(!y)return u.indexOf(c);for(var h=0;h<u.length;h++)if(y(c,u[h]))return h;return-1}function l(c,u){o(c,0,c.children.length,u,c)}function o(c,u,y,h,S){S||(S=C(null)),S.minX=1/0,S.minY=1/0,S.maxX=-1/0,S.maxY=-1/0;for(var M=u;M<y;M++){var E=c.children[M];s(S,c.leaf?h(E):E)}return S}function s(c,u){return c.minX=Math.min(c.minX,u.minX),c.minY=Math.min(c.minY,u.minY),c.maxX=Math.max(c.maxX,u.maxX),c.maxY=Math.max(c.maxY,u.maxY),c}function p(c,u){return c.minX-u.minX}function v(c,u){return c.minY-u.minY}function m(c){return(c.maxX-c.minX)*(c.maxY-c.minY)}function w(c){return c.maxX-c.minX+(c.maxY-c.minY)}function P(c,u){return c.minX<=u.minX&&c.minY<=u.minY&&u.maxX<=c.maxX&&u.maxY<=c.maxY}function A(c,u){return u.minX<=c.maxX&&u.minY<=c.maxY&&u.maxX>=c.minX&&u.maxY>=c.minY}function C(c){return{children:c,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function $(c,u,y,h,S){for(var M=[u,y];M.length;)if(!((y=M.pop())-(u=M.pop())<=h)){var E=u+Math.ceil((y-u)/h/2)*h;e(c,E,u,y,S),M.push(u,E,E,y)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(c){var u=this.data,y=[];if(!A(c,u))return y;for(var h=this.toBBox,S=[];u;){for(var M=0;M<u.children.length;M++){var E=u.children[M],R=u.leaf?h(E):E;A(c,R)&&(u.leaf?y.push(E):P(c,R)?this._all(E,y):S.push(E))}u=S.pop()}return y},i.prototype.collides=function(c){var u=this.data;if(!A(c,u))return!1;for(var y=[];u;){for(var h=0;h<u.children.length;h++){var S=u.children[h],M=u.leaf?this.toBBox(S):S;if(A(c,M)){if(u.leaf||P(c,M))return!0;y.push(S)}}u=y.pop()}return!1},i.prototype.load=function(c){if(!c||!c.length)return this;if(c.length<this._minEntries){for(var u=0;u<c.length;u++)this.insert(c[u]);return this}var y=this._build(c.slice(),0,c.length-1,0);if(this.data.children.length)if(this.data.height===y.height)this._splitRoot(this.data,y);else{if(this.data.height<y.height){var h=this.data;this.data=y,y=h}this._insert(y,this.data.height-y.height-1,!0)}else this.data=y;return this},i.prototype.insert=function(c){return c&&this._insert(c,this.data.height-1),this},i.prototype.clear=function(){return this.data=C([]),this},i.prototype.remove=function(c,u){if(!c)return this;for(var y,h,S,M=this.data,E=this.toBBox(c),R=[],F=[];M||R.length;){if(M||(M=R.pop(),h=R[R.length-1],y=F.pop(),S=!0),M.leaf){var g=f(c,M.children,u);if(g!==-1)return M.children.splice(g,1),R.push(M),this._condense(R),this}S||M.leaf||!P(M,E)?h?(y++,M=h.children[y],S=!1):M=null:(R.push(M),F.push(y),y=0,h=M,M=M.children[0])}return this},i.prototype.toBBox=function(c){return c},i.prototype.compareMinX=function(c,u){return c.minX-u.minX},i.prototype.compareMinY=function(c,u){return c.minY-u.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(c){return this.data=c,this},i.prototype._all=function(c,u){for(var y=[];c;)c.leaf?u.push.apply(u,c.children):y.push.apply(y,c.children),c=y.pop();return u},i.prototype._build=function(c,u,y,h){var S,M=y-u+1,E=this._maxEntries;if(M<=E)return l(S=C(c.slice(u,y+1)),this.toBBox),S;h||(h=Math.ceil(Math.log(M)/Math.log(E)),E=Math.ceil(M/Math.pow(E,h-1))),(S=C([])).leaf=!1,S.height=h;var R=Math.ceil(M/E),F=R*Math.ceil(Math.sqrt(E));$(c,u,y,F,this.compareMinX);for(var g=u;g<=y;g+=F){var b=Math.min(g+F-1,y);$(c,g,b,R,this.compareMinY);for(var d=g;d<=b;d+=R){var O=Math.min(d+R-1,b);S.children.push(this._build(c,d,O,h-1))}}return l(S,this.toBBox),S},i.prototype._chooseSubtree=function(c,u,y,h){for(;h.push(u),!u.leaf&&h.length-1!==y;){for(var S=1/0,M=1/0,E=void 0,R=0;R<u.children.length;R++){var F=u.children[R],g=m(F),b=(d=c,O=F,(Math.max(O.maxX,d.maxX)-Math.min(O.minX,d.minX))*(Math.max(O.maxY,d.maxY)-Math.min(O.minY,d.minY))-g);b<M?(M=b,S=g<S?g:S,E=F):b===M&&g<S&&(S=g,E=F)}u=E||u.children[0]}var d,O;return u},i.prototype._insert=function(c,u,y){var h=y?c:this.toBBox(c),S=[],M=this._chooseSubtree(h,this.data,u,S);for(M.children.push(c),s(M,h);u>=0&&S[u].children.length>this._maxEntries;)this._split(S,u),u--;this._adjustParentBBoxes(h,S,u)},i.prototype._split=function(c,u){var y=c[u],h=y.children.length,S=this._minEntries;this._chooseSplitAxis(y,S,h);var M=this._chooseSplitIndex(y,S,h),E=C(y.children.splice(M,y.children.length-M));E.height=y.height,E.leaf=y.leaf,l(y,this.toBBox),l(E,this.toBBox),u?c[u-1].children.push(E):this._splitRoot(y,E)},i.prototype._splitRoot=function(c,u){this.data=C([c,u]),this.data.height=c.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(c,u,y){for(var h,S,M,E,R,F,g,b=1/0,d=1/0,O=u;O<=y-u;O++){var X=o(c,0,O,this.toBBox),T=o(c,O,y,this.toBBox),U=(S=X,M=T,E=void 0,R=void 0,F=void 0,g=void 0,E=Math.max(S.minX,M.minX),R=Math.max(S.minY,M.minY),F=Math.min(S.maxX,M.maxX),g=Math.min(S.maxY,M.maxY),Math.max(0,F-E)*Math.max(0,g-R)),H=m(X)+m(T);U<b?(b=U,h=O,d=H<d?H:d):U===b&&H<d&&(d=H,h=O)}return h||y-u},i.prototype._chooseSplitAxis=function(c,u,y){var h=c.leaf?this.compareMinX:p,S=c.leaf?this.compareMinY:v;this._allDistMargin(c,u,y,h)<this._allDistMargin(c,u,y,S)&&c.children.sort(h)},i.prototype._allDistMargin=function(c,u,y,h){c.children.sort(h);for(var S=this.toBBox,M=o(c,0,u,S),E=o(c,y-u,y,S),R=w(M)+w(E),F=u;F<y-u;F++){var g=c.children[F];s(M,c.leaf?S(g):g),R+=w(M)}for(var b=y-u-1;b>=u;b--){var d=c.children[b];s(E,c.leaf?S(d):d),R+=w(E)}return R},i.prototype._adjustParentBBoxes=function(c,u,y){for(var h=y;h>=0;h--)s(u[h],c)},i.prototype._condense=function(c){for(var u=c.length-1,y=void 0;u>=0;u--)c[u].children.length===0?u>0?(y=c[u-1].children).splice(y.indexOf(c[u]),1):this.clear():l(c[u],this.toBBox)},i})})(Je);var un=Je.exports,Jr={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.earthRadius=63710088e-1,r.factors={centimeters:r.earthRadius*100,centimetres:r.earthRadius*100,degrees:r.earthRadius/111325,feet:r.earthRadius*3.28084,inches:r.earthRadius*39.37,kilometers:r.earthRadius/1e3,kilometres:r.earthRadius/1e3,meters:r.earthRadius,metres:r.earthRadius,miles:r.earthRadius/1609.344,millimeters:r.earthRadius*1e3,millimetres:r.earthRadius*1e3,nauticalmiles:r.earthRadius/1852,radians:1,yards:r.earthRadius*1.0936},r.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/r.earthRadius,yards:1.0936133},r.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function t(g,b,d){d===void 0&&(d={});var O={type:"Feature"};return(d.id===0||d.id)&&(O.id=d.id),d.bbox&&(O.bbox=d.bbox),O.properties=b||{},O.geometry=g,O}r.feature=t;function e(g,b,d){switch(g){case"Point":return n(b).geometry;case"LineString":return l(b).geometry;case"Polygon":return i(b).geometry;case"MultiPoint":return v(b).geometry;case"MultiLineString":return p(b).geometry;case"MultiPolygon":return m(b).geometry;default:throw new Error(g+" is invalid")}}r.geometry=e;function n(g,b,d){if(d===void 0&&(d={}),!g)throw new Error("coordinates is required");if(!Array.isArray(g))throw new Error("coordinates must be an Array");if(g.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!M(g[0])||!M(g[1]))throw new Error("coordinates must contain numbers");var O={type:"Point",coordinates:g};return t(O,b,d)}r.point=n;function a(g,b,d){return d===void 0&&(d={}),s(g.map(function(O){return n(O,b)}),d)}r.points=a;function i(g,b,d){d===void 0&&(d={});for(var O=0,X=g;O<X.length;O++){var T=X[O];if(T.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var U=0;U<T[T.length-1].length;U++)if(T[T.length-1][U]!==T[0][U])throw new Error("First and last Position are not equivalent.")}var H={type:"Polygon",coordinates:g};return t(H,b,d)}r.polygon=i;function f(g,b,d){return d===void 0&&(d={}),s(g.map(function(O){return i(O,b)}),d)}r.polygons=f;function l(g,b,d){if(d===void 0&&(d={}),g.length<2)throw new Error("coordinates must be an array of two or more positions");var O={type:"LineString",coordinates:g};return t(O,b,d)}r.lineString=l;function o(g,b,d){return d===void 0&&(d={}),s(g.map(function(O){return l(O,b)}),d)}r.lineStrings=o;function s(g,b){b===void 0&&(b={});var d={type:"FeatureCollection"};return b.id&&(d.id=b.id),b.bbox&&(d.bbox=b.bbox),d.features=g,d}r.featureCollection=s;function p(g,b,d){d===void 0&&(d={});var O={type:"MultiLineString",coordinates:g};return t(O,b,d)}r.multiLineString=p;function v(g,b,d){d===void 0&&(d={});var O={type:"MultiPoint",coordinates:g};return t(O,b,d)}r.multiPoint=v;function m(g,b,d){d===void 0&&(d={});var O={type:"MultiPolygon",coordinates:g};return t(O,b,d)}r.multiPolygon=m;function w(g,b,d){d===void 0&&(d={});var O={type:"GeometryCollection",geometries:g};return t(O,b,d)}r.geometryCollection=w;function P(g,b){if(b===void 0&&(b=0),b&&!(b>=0))throw new Error("precision must be a positive number");var d=Math.pow(10,b||0);return Math.round(g*d)/d}r.round=P;function A(g,b){b===void 0&&(b="kilometers");var d=r.factors[b];if(!d)throw new Error(b+" units is invalid");return g*d}r.radiansToLength=A;function C(g,b){b===void 0&&(b="kilometers");var d=r.factors[b];if(!d)throw new Error(b+" units is invalid");return g/d}r.lengthToRadians=C;function $(g,b){return u(C(g,b))}r.lengthToDegrees=$;function c(g){var b=g%360;return b<0&&(b+=360),b}r.bearingToAzimuth=c;function u(g){var b=g%(2*Math.PI);return b*180/Math.PI}r.radiansToDegrees=u;function y(g){var b=g%360;return b*Math.PI/180}r.degreesToRadians=y;function h(g,b,d){if(b===void 0&&(b="kilometers"),d===void 0&&(d="kilometers"),!(g>=0))throw new Error("length must be a positive number");return A(C(g,b),d)}r.convertLength=h;function S(g,b,d){if(b===void 0&&(b="meters"),d===void 0&&(d="kilometers"),!(g>=0))throw new Error("area must be a positive number");var O=r.areaFactors[b];if(!O)throw new Error("invalid original units");var X=r.areaFactors[d];if(!X)throw new Error("invalid final units");return g/O*X}r.convertArea=S;function M(g){return!isNaN(g)&&g!==null&&!Array.isArray(g)}r.isNumber=M;function E(g){return!!g&&g.constructor===Object}r.isObject=E;function R(g){if(!g)throw new Error("bbox is required");if(!Array.isArray(g))throw new Error("bbox must be an Array");if(g.length!==4&&g.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");g.forEach(function(b){if(!M(b))throw new Error("bbox must only contain numbers")})}r.validateBBox=R;function F(g){if(!g)throw new Error("id is required");if(["string","number"].indexOf(typeof g)===-1)throw new Error("id must be a number or a string")}r.validateId=F})(Jr);var L={};Object.defineProperty(L,"__esModule",{value:!0});var G=Jr;function fr(r,t,e){if(r!==null)for(var n,a,i,f,l,o,s,p=0,v=0,m,w=r.type,P=w==="FeatureCollection",A=w==="Feature",C=P?r.features.length:1,$=0;$<C;$++){s=P?r.features[$].geometry:A?r.geometry:r,m=s?s.type==="GeometryCollection":!1,l=m?s.geometries.length:1;for(var c=0;c<l;c++){var u=0,y=0;if(f=m?s.geometries[c]:s,f!==null){o=f.coordinates;var h=f.type;switch(p=e&&(h==="Polygon"||h==="MultiPolygon")?1:0,h){case null:break;case"Point":if(t(o,v,$,u,y)===!1)return!1;v++,u++;break;case"LineString":case"MultiPoint":for(n=0;n<o.length;n++){if(t(o[n],v,$,u,y)===!1)return!1;v++,h==="MultiPoint"&&u++}h==="LineString"&&u++;break;case"Polygon":case"MultiLineString":for(n=0;n<o.length;n++){for(a=0;a<o[n].length-p;a++){if(t(o[n][a],v,$,u,y)===!1)return!1;v++}h==="MultiLineString"&&u++,h==="Polygon"&&y++}h==="Polygon"&&u++;break;case"MultiPolygon":for(n=0;n<o.length;n++){for(y=0,a=0;a<o[n].length;a++){for(i=0;i<o[n][a].length-p;i++){if(t(o[n][a][i],v,$,u,y)===!1)return!1;v++}y++}u++}break;case"GeometryCollection":for(n=0;n<f.geometries.length;n++)if(fr(f.geometries[n],t,e)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function sn(r,t,e,n){var a=e;return fr(r,function(i,f,l,o,s){f===0&&e===void 0?a=i:a=t(a,i,f,l,o,s)},n),a}function ze(r,t){var e;switch(r.type){case"FeatureCollection":for(e=0;e<r.features.length&&t(r.features[e].properties,e)!==!1;e++);break;case"Feature":t(r.properties,0);break}}function cn(r,t,e){var n=e;return ze(r,function(a,i){i===0&&e===void 0?n=a:n=t(n,a,i)}),n}function He(r,t){if(r.type==="Feature")t(r,0);else if(r.type==="FeatureCollection")for(var e=0;e<r.features.length&&t(r.features[e],e)!==!1;e++);}function yn(r,t,e){var n=e;return He(r,function(a,i){i===0&&e===void 0?n=a:n=t(n,a,i)}),n}function vn(r){var t=[];return fr(r,function(e){t.push(e)}),t}function zr(r,t){var e,n,a,i,f,l,o,s,p,v,m=0,w=r.type==="FeatureCollection",P=r.type==="Feature",A=w?r.features.length:1;for(e=0;e<A;e++){for(l=w?r.features[e].geometry:P?r.geometry:r,s=w?r.features[e].properties:P?r.properties:{},p=w?r.features[e].bbox:P?r.bbox:void 0,v=w?r.features[e].id:P?r.id:void 0,o=l?l.type==="GeometryCollection":!1,f=o?l.geometries.length:1,a=0;a<f;a++){if(i=o?l.geometries[a]:l,i===null){if(t(null,m,s,p,v)===!1)return!1;continue}switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(i,m,s,p,v)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<i.geometries.length;n++)if(t(i.geometries[n],m,s,p,v)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}m++}}function hn(r,t,e){var n=e;return zr(r,function(a,i,f,l,o){i===0&&e===void 0?n=a:n=t(n,a,i,f,l,o)}),n}function Sr(r,t){zr(r,function(e,n,a,i,f){var l=e===null?null:e.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return t(G.feature(e,a,{bbox:i,id:f}),n,0)===!1?!1:void 0}var o;switch(l){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon";break}for(var s=0;s<e.coordinates.length;s++){var p=e.coordinates[s],v={type:o,coordinates:p};if(t(G.feature(v,a),n,s)===!1)return!1}})}function pn(r,t,e){var n=e;return Sr(r,function(a,i,f){i===0&&f===0&&e===void 0?n=a:n=t(n,a,i,f)}),n}function Ve(r,t){Sr(r,function(e,n,a){var i=0;if(e.geometry){var f=e.geometry.type;if(!(f==="Point"||f==="MultiPoint")){var l,o=0,s=0,p=0;if(fr(e,function(v,m,w,P,A){if(l===void 0||n>o||P>s||A>p){l=v,o=n,s=P,p=A,i=0;return}var C=G.lineString([l,v],e.properties);if(t(C,n,a,A,i)===!1)return!1;i++,l=v})===!1)return!1}}})}function gn(r,t,e){var n=e,a=!1;return Ve(r,function(i,f,l,o,s){a===!1&&e===void 0?n=i:n=t(n,i,f,l,o,s),a=!0}),n}function Ke(r,t){if(!r)throw new Error("geojson is required");Sr(r,function(e,n,a){if(e.geometry!==null){var i=e.geometry.type,f=e.geometry.coordinates;switch(i){case"LineString":if(t(e,n,a,0,0)===!1)return!1;break;case"Polygon":for(var l=0;l<f.length;l++)if(t(G.lineString(f[l],e.properties),n,a,l)===!1)return!1;break}}})}function dn(r,t,e){var n=e;return Ke(r,function(a,i,f,l){i===0&&e===void 0?n=a:n=t(n,a,i,f,l)}),n}function mn(r,t){if(t=t||{},!G.isObject(t))throw new Error("options is invalid");var e=t.featureIndex||0,n=t.multiFeatureIndex||0,a=t.geometryIndex||0,i=t.segmentIndex||0,f=t.properties,l;switch(r.type){case"FeatureCollection":e<0&&(e=r.features.length+e),f=f||r.features[e].properties,l=r.features[e].geometry;break;case"Feature":f=f||r.properties,l=r.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":l=r;break;default:throw new Error("geojson is invalid")}if(l===null)return null;var o=l.coordinates;switch(l.type){case"Point":case"MultiPoint":return null;case"LineString":return i<0&&(i=o.length+i-1),G.lineString([o[i],o[i+1]],f,t);case"Polygon":return a<0&&(a=o.length+a),i<0&&(i=o[a].length+i-1),G.lineString([o[a][i],o[a][i+1]],f,t);case"MultiLineString":return n<0&&(n=o.length+n),i<0&&(i=o[n].length+i-1),G.lineString([o[n][i],o[n][i+1]],f,t);case"MultiPolygon":return n<0&&(n=o.length+n),a<0&&(a=o[n].length+a),i<0&&(i=o[n][a].length-i-1),G.lineString([o[n][a][i],o[n][a][i+1]],f,t)}throw new Error("geojson is invalid")}function bn(r,t){if(t=t||{},!G.isObject(t))throw new Error("options is invalid");var e=t.featureIndex||0,n=t.multiFeatureIndex||0,a=t.geometryIndex||0,i=t.coordIndex||0,f=t.properties,l;switch(r.type){case"FeatureCollection":e<0&&(e=r.features.length+e),f=f||r.features[e].properties,l=r.features[e].geometry;break;case"Feature":f=f||r.properties,l=r.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":l=r;break;default:throw new Error("geojson is invalid")}if(l===null)return null;var o=l.coordinates;switch(l.type){case"Point":return G.point(o,f,t);case"MultiPoint":return n<0&&(n=o.length+n),G.point(o[n],f,t);case"LineString":return i<0&&(i=o.length+i),G.point(o[i],f,t);case"Polygon":return a<0&&(a=o.length+a),i<0&&(i=o[a].length+i),G.point(o[a][i],f,t);case"MultiLineString":return n<0&&(n=o.length+n),i<0&&(i=o[n].length+i),G.point(o[n][i],f,t);case"MultiPolygon":return n<0&&(n=o.length+n),a<0&&(a=o[n].length+a),i<0&&(i=o[n][a].length-i),G.point(o[n][a][i],f,t)}throw new Error("geojson is invalid")}L.coordAll=vn;L.coordEach=fr;L.coordReduce=sn;L.featureEach=He;L.featureReduce=yn;L.findPoint=bn;L.findSegment=mn;L.flattenEach=Sr;L.flattenReduce=pn;L.geomEach=zr;L.geomReduce=hn;L.lineEach=Ke;L.lineReduce=dn;L.propEach=ze;L.propReduce=cn;L.segmentEach=Ve;L.segmentReduce=gn;const wn=Nt(Dt);var J=un,Qe=Jr,Ze=L,K=wn.default,Pn=Ze.featureEach;Ze.coordEach;Qe.polygon;var le=Qe.featureCollection;function Ie(r){var t=new J(r);return t.insert=function(e){if(e.type!=="Feature")throw new Error("invalid feature");return e.bbox=e.bbox?e.bbox:K(e),J.prototype.insert.call(this,e)},t.load=function(e){var n=[];return Array.isArray(e)?e.forEach(function(a){if(a.type!=="Feature")throw new Error("invalid features");a.bbox=a.bbox?a.bbox:K(a),n.push(a)}):Pn(e,function(a){if(a.type!=="Feature")throw new Error("invalid features");a.bbox=a.bbox?a.bbox:K(a),n.push(a)}),J.prototype.load.call(this,n)},t.remove=function(e,n){if(e.type!=="Feature")throw new Error("invalid feature");return e.bbox=e.bbox?e.bbox:K(e),J.prototype.remove.call(this,e,n)},t.clear=function(){return J.prototype.clear.call(this)},t.search=function(e){var n=J.prototype.search.call(this,this.toBBox(e));return le(n)},t.collides=function(e){return J.prototype.collides.call(this,this.toBBox(e))},t.all=function(){var e=J.prototype.all.call(this);return le(e)},t.toJSON=function(){return J.prototype.toJSON.call(this)},t.fromJSON=function(e){return J.prototype.fromJSON.call(this,e)},t.toBBox=function(e){var n;if(e.bbox)n=e.bbox;else if(Array.isArray(e)&&e.length===4)n=e;else if(Array.isArray(e)&&e.length===6)n=[e[0],e[1],e[3],e[4]];else if(e.type==="Feature")n=K(e);else if(e.type==="FeatureCollection")n=K(e);else throw new Error("invalid geojson");return{minX:n[0],minY:n[1],maxX:n[2],maxY:n[3]}},t}Wr.exports=Ie;Wr.exports.default=Ie;var Mn=Wr.exports;const Hr=_t(Mn);function je(r,t){var e={},n=[];if(r.type==="LineString"&&(r=_r(r)),t.type==="LineString"&&(t=_r(t)),r.type==="Feature"&&t.type==="Feature"&&r.geometry!==null&&t.geometry!==null&&r.geometry.type==="LineString"&&t.geometry.type==="LineString"&&r.geometry.coordinates.length===2&&t.geometry.coordinates.length===2){var a=ue(r,t);return a&&n.push(a),ie(n)}var i=Hr();return i.load(Tr(t)),fe(Tr(r),function(f){fe(i.search(f),function(l){var o=ue(f,l);if(o){var s=z(o).join(",");e[s]||(e[s]=!0,n.push(o))}})}),ie(n)}function ue(r,t){var e=z(r),n=z(t);if(e.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(n.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var a=e[0][0],i=e[0][1],f=e[1][0],l=e[1][1],o=n[0][0],s=n[0][1],p=n[1][0],v=n[1][1],m=(v-s)*(f-a)-(p-o)*(l-i),w=(p-o)*(i-s)-(v-s)*(a-o),P=(f-a)*(i-s)-(l-i)*(a-o);if(m===0)return null;var A=w/m,C=P/m;if(A>=0&&A<=1&&C>=0&&C<=1){var $=a+A*(f-a),c=i+A*(l-i);return rn([$,c])}return null}function br(r,t,e){e===void 0&&(e={});var n={type:"Feature"};return(e.id===0||e.id)&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.properties=t||{},n.geometry=r,n}function Or(r,t,e){if(e===void 0&&(e={}),!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ce(r[0])||!ce(r[1]))throw new Error("coordinates must contain numbers");var n={type:"Point",coordinates:r};return br(n,t,e)}function se(r,t,e){if(e===void 0&&(e={}),r.length<2)throw new Error("coordinates must be an array of two or more positions");var n={type:"LineString",coordinates:r};return br(n,t,e)}function ce(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}function Sn(r,t){var e,n,a,i,f,l,o,s,p,v,m=0,w=r.type==="FeatureCollection",P=r.type==="Feature",A=w?r.features.length:1;for(e=0;e<A;e++){for(l=w?r.features[e].geometry:P?r.geometry:r,s=w?r.features[e].properties:P?r.properties:{},p=w?r.features[e].bbox:P?r.bbox:void 0,v=w?r.features[e].id:P?r.id:void 0,o=l?l.type==="GeometryCollection":!1,f=o?l.geometries.length:1,a=0;a<f;a++){if(i=o?l.geometries[a]:l,i===null){if(t(null,m,s,p,v)===!1)return!1;continue}switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(i,m,s,p,v)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<i.geometries.length;n++)if(t(i.geometries[n],m,s,p,v)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}m++}}function En(r,t){Sn(r,function(e,n,a,i,f){var l=e===null?null:e.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return t(br(e,a,{bbox:i,id:f}),n,0)===!1?!1:void 0}var o;switch(l){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon";break}for(var s=0;s<e.coordinates.length;s++){var p=e.coordinates[s],v={type:o,coordinates:p};if(t(br(v,a),n,s)===!1)return!1}})}function An(r,t,e){e===void 0&&(e={});var n=Or([1/0,1/0],{dist:1/0}),a=0;return En(r,function(i){for(var f=z(i),l=0;l<f.length-1;l++){var o=Or(f[l]);o.properties.dist=W(t,o,e);var s=Or(f[l+1]);s.properties.dist=W(t,s,e);var p=W(o,s,e),v=Math.max(o.properties.dist,s.properties.dist),m=Mr(o,s),w=ar(t,v,m+90,e),P=ar(t,v,m-90,e),A=je(se([w.geometry.coordinates,P.geometry.coordinates]),se([o.geometry.coordinates,s.geometry.coordinates])),C=null;A.features.length>0&&(C=A.features[0],C.properties.dist=W(t,C,e),C.properties.location=a+W(o,C,e)),o.properties.dist<n.properties.dist&&(n=o,n.properties.index=l,n.properties.location=a),s.properties.dist<n.properties.dist&&(n=s,n.properties.index=l+1,n.properties.location=a+p),C&&C.properties.dist<n.properties.dist&&(n=C,n.properties.index=l),a+=p}}),n}var _=63710088e-1,rt={centimeters:_*100,centimetres:_*100,degrees:_/111325,feet:_*3.28084,inches:_*39.37,kilometers:_/1e3,kilometres:_/1e3,meters:_,metres:_,miles:_/1609.344,millimeters:_*1e3,millimetres:_*1e3,nauticalmiles:_/1852,radians:1,yards:_*1.0936};function $n(r,t){t===void 0&&(t="kilometers");var e=rt[t];if(!e)throw new Error(t+" units is invalid");return r*e}function On(r,t){var e=rt[t];return r/e}function Cn(r,t,e){if(e===void 0&&(e="kilometers"),!(r>=0))throw new Error("length must be a positive number");return $n(On(r,t),e)}function Rn(r,t,e){e===void 0&&(e={});var n=N(r),a=N(t);a[0]+=a[0]-n[0]>180?-360:n[0]-a[0]>180?360:0;var i=Bn(n,a),f=Cn(i,"meters",e.units);return f}function Bn(r,t,e){e=e===void 0?_:Number(e);var n=e,a=r[1]*Math.PI/180,i=t[1]*Math.PI/180,f=i-a,l=Math.abs(t[0]-r[0])*Math.PI/180;l>Math.PI&&(l-=2*Math.PI);var o=Math.log(Math.tan(i/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),s=Math.abs(o)>1e-11?f/o:Math.cos(a),p=Math.sqrt(f*f+s*s*l*l),v=p*n;return v}function Fn(r,t,e){e===void 0&&(e={});var n={type:"Feature"};return(e.id===0||e.id)&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.properties={},n.geometry=r,n}function ye(r,t,e){if(e===void 0&&(e={}),!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ve(r[0])||!ve(r[1]))throw new Error("coordinates must contain numbers");var n={type:"Point",coordinates:r};return Fn(n,t,e)}function ve(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}function ji(r,t,e){e===void 0&&(e={});for(var n=xe(r),a=n.coordinates,i=0,f=0;f<a.length&&!(t>=i&&f===a.length-1);f++)if(i>=t){var l=t-i;if(l){var o=Mr(a[f],a[f-1])-180,s=ar(a[f],l,o,e);return s}else return ye(a[f])}else i+=W(a[f],a[f+1],e);return ye(a[a.length-1])}function Yr(r,t,e){e===void 0&&(e={});var n={type:"Feature"};return(e.id===0||e.id)&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.properties=t||{},n.geometry=r,n}function Ln(r,t,e){if(e===void 0&&(e={}),r.length<2)throw new Error("coordinates must be an array of two or more positions");var n={type:"LineString",coordinates:r};return Yr(n,t,e)}function et(r,t,e){if(r!==null)for(var n,a,i,f,l,o,s,p=0,v=0,m,w=r.type,P=w==="FeatureCollection",A=w==="Feature",C=P?r.features.length:1,$=0;$<C;$++){s=P?r.features[$].geometry:A?r.geometry:r,m=s?s.type==="GeometryCollection":!1,l=m?s.geometries.length:1;for(var c=0;c<l;c++){var u=0,y=0;if(f=m?s.geometries[c]:s,f!==null){o=f.coordinates;var h=f.type;switch(p=0,h){case null:break;case"Point":if(t(o,v,$,u,y)===!1)return!1;v++,u++;break;case"LineString":case"MultiPoint":for(n=0;n<o.length;n++){if(t(o[n],v,$,u,y)===!1)return!1;v++,h==="MultiPoint"&&u++}h==="LineString"&&u++;break;case"Polygon":case"MultiLineString":for(n=0;n<o.length;n++){for(a=0;a<o[n].length-p;a++){if(t(o[n][a],v,$,u,y)===!1)return!1;v++}h==="MultiLineString"&&u++,h==="Polygon"&&y++}h==="Polygon"&&u++;break;case"MultiPolygon":for(n=0;n<o.length;n++){for(y=0,a=0;a<o[n].length;a++){for(i=0;i<o[n][a].length-p;i++){if(t(o[n][a][i],v,$,u,y)===!1)return!1;v++}y++}u++}break;case"GeometryCollection":for(n=0;n<f.geometries.length;n++)if(et(f.geometries[n],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function kn(r,t){var e,n,a,i,f,l,o,s,p,v,m=0,w=r.type==="FeatureCollection",P=r.type==="Feature",A=w?r.features.length:1;for(e=0;e<A;e++){for(l=w?r.features[e].geometry:P?r.geometry:r,s=w?r.features[e].properties:P?r.properties:{},p=w?r.features[e].bbox:P?r.bbox:void 0,v=w?r.features[e].id:P?r.id:void 0,o=l?l.type==="GeometryCollection":!1,f=o?l.geometries.length:1,a=0;a<f;a++){if(i=o?l.geometries[a]:l,i===null){if(t(null,m,s,p,v)===!1)return!1;continue}switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(i,m,s,p,v)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<i.geometries.length;n++)if(t(i.geometries[n],m,s,p,v)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}m++}}function Gn(r,t){kn(r,function(e,n,a,i,f){var l=e===null?null:e.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return t(Yr(e,a,{bbox:i,id:f}),n,0)===!1?!1:void 0}var o;switch(l){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon";break}for(var s=0;s<e.coordinates.length;s++){var p=e.coordinates[s],v={type:o,coordinates:p};if(t(Yr(v,a),n,s)===!1)return!1}})}function Nn(r,t){Gn(r,function(e,n,a){var i=0;if(e.geometry){var f=e.geometry.type;if(!(f==="Point"||f==="MultiPoint")){var l,o=0,s=0,p=0;if(et(e,function(v,m,w,P,A){if(l===void 0||n>o||P>s||A>p){l=v,o=n,s=P,p=A,i=0;return}var C=Ln([l,v],e.properties);if(t(C,n,a,A,i)===!1)return!1;i++,l=v})===!1)return!1}}})}function _n(r,t,e){var n=e,a=!1;return Nn(r,function(i,f,l,o,s){a===!1&&e===void 0?n=i:n=t(n,i,f,l,o,s),a=!0}),n}function ro(r,t){return t===void 0&&(t={}),_n(r,function(e,n){var a=n.geometry.coordinates;return e+W(a[0],a[1],t)},0)}function tt(r,t,e){if(r!==null)for(var n,a,i,f,l,o,s,p=0,v=0,m,w=r.type,P=w==="FeatureCollection",A=w==="Feature",C=P?r.features.length:1,$=0;$<C;$++){s=P?r.features[$].geometry:A?r.geometry:r,m=s?s.type==="GeometryCollection":!1,l=m?s.geometries.length:1;for(var c=0;c<l;c++){var u=0,y=0;if(f=m?s.geometries[c]:s,f!==null){o=f.coordinates;var h=f.type;switch(p=0,h){case null:break;case"Point":if(t(o,v,$,u,y)===!1)return!1;v++,u++;break;case"LineString":case"MultiPoint":for(n=0;n<o.length;n++){if(t(o[n],v,$,u,y)===!1)return!1;v++,h==="MultiPoint"&&u++}h==="LineString"&&u++;break;case"Polygon":case"MultiLineString":for(n=0;n<o.length;n++){for(a=0;a<o[n].length-p;a++){if(t(o[n][a],v,$,u,y)===!1)return!1;v++}h==="MultiLineString"&&u++,h==="Polygon"&&y++}h==="Polygon"&&u++;break;case"MultiPolygon":for(n=0;n<o.length;n++){for(y=0,a=0;a<o[n].length;a++){for(i=0;i<o[n][a].length-p;i++){if(t(o[n][a][i],v,$,u,y)===!1)return!1;v++}y++}u++}break;case"GeometryCollection":for(n=0;n<f.geometries.length;n++)if(tt(f.geometries[n],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Dn(r,t){t===void 0&&(t={});var e=t.precision,n=t.coordinates,a=t.mutate;if(e=e==null||isNaN(e)?6:e,n=n==null||isNaN(n)?3:n,!r)throw new Error("<geojson> is required");if(typeof e!="number")throw new Error("<precision> must be a number");if(typeof n!="number")throw new Error("<coordinates> must be a number");(a===!1||a===void 0)&&(r=JSON.parse(JSON.stringify(r)));var i=Math.pow(10,e);return tt(r,function(f){Tn(f,i,n)}),r}function Tn(r,t,e){r.length>e&&r.splice(e,r.length);for(var n=0;n<r.length;n++)r[n]=Math.round(r[n]*t)/t;return r}function qr(r,t,e){e===void 0&&(e={});var n={type:"Feature"};return(e.id===0||e.id)&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.properties=t||{},n.geometry=r,n}function he(r,t,e){if(e===void 0&&(e={}),r.length<2)throw new Error("coordinates must be an array of two or more positions");var n={type:"LineString",coordinates:r};return qr(n,t,e)}function tr(r,t){t===void 0&&(t={});var e={type:"FeatureCollection"};return t.id&&(e.id=t.id),t.bbox&&(e.bbox=t.bbox),e.features=r,e}function Vr(r,t){if(r.type==="Feature")t(r,0);else if(r.type==="FeatureCollection")for(var e=0;e<r.features.length&&t(r.features[e],e)!==!1;e++);}function Yn(r,t,e){var n=e;return Vr(r,function(a,i){i===0&&e===void 0?n=a:n=t(n,a,i)}),n}function qn(r,t){var e,n,a,i,f,l,o,s,p,v,m=0,w=r.type==="FeatureCollection",P=r.type==="Feature",A=w?r.features.length:1;for(e=0;e<A;e++){for(l=w?r.features[e].geometry:P?r.geometry:r,s=w?r.features[e].properties:P?r.properties:{},p=w?r.features[e].bbox:P?r.bbox:void 0,v=w?r.features[e].id:P?r.id:void 0,o=l?l.type==="GeometryCollection":!1,f=o?l.geometries.length:1,a=0;a<f;a++){if(i=o?l.geometries[a]:l,i===null){if(t(null,m,s,p,v)===!1)return!1;continue}switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(i,m,s,p,v)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<i.geometries.length;n++)if(t(i.geometries[n],m,s,p,v)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}m++}}function Xn(r,t){qn(r,function(e,n,a,i,f){var l=e===null?null:e.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return t(qr(e,a,{bbox:i,id:f}),n,0)===!1?!1:void 0}var o;switch(l){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon";break}for(var s=0;s<e.coordinates.length;s++){var p=e.coordinates[s],v={type:o,coordinates:p};if(t(qr(v,a),n,s)===!1)return!1}})}function eo(r,t){if(!r)throw new Error("line is required");if(!t)throw new Error("splitter is required");var e=re(r),n=re(t);if(e!=="LineString")throw new Error("line must be LineString");if(n==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(n==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var a=Dn(t,{precision:7});switch(n){case"Point":return Xr(r,a);case"MultiPoint":return pe(r,a);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return pe(r,je(r,a))}}function pe(r,t){var e=[],n=Hr();return Xn(t,function(a){if(e.forEach(function(l,o){l.id=o}),!e.length)e=Xr(r,a).features,e.forEach(function(l){l.bbox||(l.bbox=Xt(mr(l)))}),n.load(tr(e));else{var i=n.search(a);if(i.features.length){var f=nt(a,i);e=e.filter(function(l){return l.id!==f.id}),n.remove(f),Vr(Xr(f,a),function(l){e.push(l),n.insert(l)})}}}),tr(e)}function Xr(r,t){var e=[],n=z(r)[0],a=z(r)[r.geometry.coordinates.length-1];if(Cr(n,N(t))||Cr(a,N(t)))return tr([r]);var i=Hr(),f=Tr(r);i.load(f);var l=i.search(t);if(!l.features.length)return tr([r]);var o=nt(t,l),s=[n],p=Yn(f,function(v,m,w){var P=z(m)[1],A=N(t);return w===o.id?(v.push(A),e.push(he(v)),Cr(A,P)?[A]:[A,P]):(v.push(P),v)},s);return p.length>1&&e.push(he(p)),tr(e)}function nt(r,t){if(!t.features.length)throw new Error("lines must contain features");if(t.features.length===1)return t.features[0];var e,n=1/0;return Vr(t,function(a){var i=An(a,r),f=i.properties.dist;f<n&&(e=a,n=f)}),e}function Cr(r,t){return r[0]===t[0]&&r[1]===t[1]}var ge=Object.prototype.toString,at=function(t){var e=ge.call(t),n=e==="[object Arguments]";return n||(n=e!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&ge.call(t.callee)==="[object Function]"),n},Rr,de;function Un(){if(de)return Rr;de=1;var r;if(!Object.keys){var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=at,a=Object.prototype.propertyIsEnumerable,i=!a.call({toString:null},"toString"),f=a.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=function(m){var w=m.constructor;return w&&w.prototype===m},s={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if(typeof window>"u")return!1;for(var m in window)try{if(!s["$"+m]&&t.call(window,m)&&window[m]!==null&&typeof window[m]=="object")try{o(window[m])}catch{return!0}}catch{return!0}return!1}(),v=function(m){if(typeof window>"u"||!p)return o(m);try{return o(m)}catch{return!1}};r=function(w){var P=w!==null&&typeof w=="object",A=e.call(w)==="[object Function]",C=n(w),$=P&&e.call(w)==="[object String]",c=[];if(!P&&!A&&!C)throw new TypeError("Object.keys called on a non-object");var u=f&&A;if($&&w.length>0&&!t.call(w,0))for(var y=0;y<w.length;++y)c.push(String(y));if(C&&w.length>0)for(var h=0;h<w.length;++h)c.push(String(h));else for(var S in w)!(u&&S==="prototype")&&t.call(w,S)&&c.push(String(S));if(i)for(var M=v(w),E=0;E<l.length;++E)!(M&&l[E]==="constructor")&&t.call(w,l[E])&&c.push(l[E]);return c}}return Rr=r,Rr}var xn=Array.prototype.slice,Wn=at,me=Object.keys,pr=me?function(t){return me(t)}:Un(),be=Object.keys;pr.shim=function(){if(Object.keys){var t=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);t||(Object.keys=function(n){return Wn(n)?be(xn.call(n)):be(n)})}else Object.keys=pr;return Object.keys||pr};var Jn=pr,it=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),n=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;t[e]=a;for(var i in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var f=Object.getOwnPropertySymbols(t);if(f.length!==1||f[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(t,e);if(l.value!==a||l.enumerable!==!0)return!1}return!0},zn=it,ot=function(){return zn()&&!!Symbol.toStringTag},ft=Object,Hn=Error,Vn=EvalError,Kn=RangeError,Qn=ReferenceError,lt=SyntaxError,Er=TypeError,Zn=URIError,In=Math.abs,jn=Math.floor,ra=Math.max,ea=Math.min,ta=Math.pow,na=Math.round,aa=Number.isNaN||function(t){return t!==t},ia=aa,oa=function(t){return ia(t)||t===0?t:t<0?-1:1},fa=Object.getOwnPropertyDescriptor,gr=fa;if(gr)try{gr([],"length")}catch{gr=null}var lr=gr,dr=Object.defineProperty||!1;if(dr)try{dr({},"a",{value:1})}catch{dr=!1}var Ar=dr,Br,we;function la(){if(we)return Br;we=1;var r=typeof Symbol<"u"&&Symbol,t=it;return Br=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Br}var ut=typeof Reflect<"u"&&Reflect.getPrototypeOf||null,ua=ft,st=ua.getPrototypeOf||null,sa="Function.prototype.bind called on incompatible ",ca=Object.prototype.toString,ya=Math.max,va="[object Function]",Pe=function(t,e){for(var n=[],a=0;a<t.length;a+=1)n[a]=t[a];for(var i=0;i<e.length;i+=1)n[i+t.length]=e[i];return n},ha=function(t,e){for(var n=[],a=e,i=0;a<t.length;a+=1,i+=1)n[i]=t[a];return n},pa=function(r,t){for(var e="",n=0;n<r.length;n+=1)e+=r[n],n+1<r.length&&(e+=t);return e},ga=function(t){var e=this;if(typeof e!="function"||ca.apply(e)!==va)throw new TypeError(sa+e);for(var n=ha(arguments,1),a,i=function(){if(this instanceof a){var p=e.apply(this,Pe(n,arguments));return Object(p)===p?p:this}return e.apply(t,Pe(n,arguments))},f=ya(0,e.length-n.length),l=[],o=0;o<f;o++)l[o]="$"+o;if(a=Function("binder","return function ("+pa(l,",")+"){ return binder.apply(this,arguments); }")(i),e.prototype){var s=function(){};s.prototype=e.prototype,a.prototype=new s,s.prototype=null}return a},da=ga,ur=Function.prototype.bind||da,Kr=Function.prototype.call,Qr=Function.prototype.apply,ma=typeof Reflect<"u"&&Reflect&&Reflect.apply,ba=ur,wa=Qr,Pa=Kr,Ma=ma,ct=Ma||ba.call(Pa,wa),Sa=ur,Ea=Er,Aa=Kr,$a=ct,Zr=function(t){if(t.length<1||typeof t[0]!="function")throw new Ea("a function is required");return $a(Sa,Aa,t)},Oa=Zr,Me=lr,yt;try{yt=[].__proto__===Array.prototype}catch(r){if(!r||typeof r!="object"||!("code"in r)||r.code!=="ERR_PROTO_ACCESS")throw r}var Fr=!!yt&&Me&&Me(Object.prototype,"__proto__"),vt=Object,Se=vt.getPrototypeOf,Ca=Fr&&typeof Fr.get=="function"?Oa([Fr.get]):typeof Se=="function"?function(t){return Se(t==null?t:vt(t))}:!1,Ee=ut,Ae=st,$e=Ca,Ra=Ee?function(t){return Ee(t)}:Ae?function(t){if(!t||typeof t!="object"&&typeof t!="function")throw new TypeError("getProto: not an object");return Ae(t)}:$e?function(t){return $e(t)}:null,Ba=Function.prototype.call,Fa=Object.prototype.hasOwnProperty,La=ur,ht=La.call(Ba,Fa),B,ka=ft,Ga=Hn,Na=Vn,_a=Kn,Da=Qn,rr=lt,j=Er,Ta=Zn,Ya=In,qa=jn,Xa=ra,Ua=ea,xa=ta,Wa=na,Ja=oa,pt=Function,Lr=function(r){try{return pt('"use strict"; return ('+r+").constructor;")()}catch{}},ir=lr,za=Ar,kr=function(){throw new j},Ha=ir?function(){try{return arguments.callee,kr}catch{try{return ir(arguments,"callee").get}catch{return kr}}}():kr,Q=la()(),k=Ra,Va=st,Ka=ut,gt=Qr,sr=Kr,I={},Qa=typeof Uint8Array>"u"||!k?B:k(Uint8Array),V={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?B:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?B:ArrayBuffer,"%ArrayIteratorPrototype%":Q&&k?k([][Symbol.iterator]()):B,"%AsyncFromSyncIteratorPrototype%":B,"%AsyncFunction%":I,"%AsyncGenerator%":I,"%AsyncGeneratorFunction%":I,"%AsyncIteratorPrototype%":I,"%Atomics%":typeof Atomics>"u"?B:Atomics,"%BigInt%":typeof BigInt>"u"?B:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?B:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?B:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?B:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Ga,"%eval%":eval,"%EvalError%":Na,"%Float16Array%":typeof Float16Array>"u"?B:Float16Array,"%Float32Array%":typeof Float32Array>"u"?B:Float32Array,"%Float64Array%":typeof Float64Array>"u"?B:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?B:FinalizationRegistry,"%Function%":pt,"%GeneratorFunction%":I,"%Int8Array%":typeof Int8Array>"u"?B:Int8Array,"%Int16Array%":typeof Int16Array>"u"?B:Int16Array,"%Int32Array%":typeof Int32Array>"u"?B:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Q&&k?k(k([][Symbol.iterator]())):B,"%JSON%":typeof JSON=="object"?JSON:B,"%Map%":typeof Map>"u"?B:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Q||!k?B:k(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":ka,"%Object.getOwnPropertyDescriptor%":ir,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?B:Promise,"%Proxy%":typeof Proxy>"u"?B:Proxy,"%RangeError%":_a,"%ReferenceError%":Da,"%Reflect%":typeof Reflect>"u"?B:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?B:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Q||!k?B:k(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?B:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Q&&k?k(""[Symbol.iterator]()):B,"%Symbol%":Q?Symbol:B,"%SyntaxError%":rr,"%ThrowTypeError%":Ha,"%TypedArray%":Qa,"%TypeError%":j,"%Uint8Array%":typeof Uint8Array>"u"?B:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?B:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?B:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?B:Uint32Array,"%URIError%":Ta,"%WeakMap%":typeof WeakMap>"u"?B:WeakMap,"%WeakRef%":typeof WeakRef>"u"?B:WeakRef,"%WeakSet%":typeof WeakSet>"u"?B:WeakSet,"%Function.prototype.call%":sr,"%Function.prototype.apply%":gt,"%Object.defineProperty%":za,"%Object.getPrototypeOf%":Va,"%Math.abs%":Ya,"%Math.floor%":qa,"%Math.max%":Xa,"%Math.min%":Ua,"%Math.pow%":xa,"%Math.round%":Wa,"%Math.sign%":Ja,"%Reflect.getPrototypeOf%":Ka};if(k)try{null.error}catch(r){var Za=k(k(r));V["%Error.prototype%"]=Za}var Ia=function r(t){var e;if(t==="%AsyncFunction%")e=Lr("async function () {}");else if(t==="%GeneratorFunction%")e=Lr("function* () {}");else if(t==="%AsyncGeneratorFunction%")e=Lr("async function* () {}");else if(t==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(e=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var a=r("%AsyncGenerator%");a&&k&&(e=k(a.prototype))}return V[t]=e,e},Oe={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},cr=ur,wr=ht,ja=cr.call(sr,Array.prototype.concat),ri=cr.call(gt,Array.prototype.splice),Ce=cr.call(sr,String.prototype.replace),Pr=cr.call(sr,String.prototype.slice),ei=cr.call(sr,RegExp.prototype.exec),ti=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ni=/\\(\\)?/g,ai=function(t){var e=Pr(t,0,1),n=Pr(t,-1);if(e==="%"&&n!=="%")throw new rr("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&e!=="%")throw new rr("invalid intrinsic syntax, expected opening `%`");var a=[];return Ce(t,ti,function(i,f,l,o){a[a.length]=l?Ce(o,ni,"$1"):f||i}),a},ii=function(t,e){var n=t,a;if(wr(Oe,n)&&(a=Oe[n],n="%"+a[0]+"%"),wr(V,n)){var i=V[n];if(i===I&&(i=Ia(n)),typeof i>"u"&&!e)throw new j("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:a,name:n,value:i}}throw new rr("intrinsic "+t+" does not exist!")},dt=function(t,e){if(typeof t!="string"||t.length===0)throw new j("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new j('"allowMissing" argument must be a boolean');if(ei(/^%?[^%]*%?$/,t)===null)throw new rr("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=ai(t),a=n.length>0?n[0]:"",i=ii("%"+a+"%",e),f=i.name,l=i.value,o=!1,s=i.alias;s&&(a=s[0],ri(n,ja([0,1],s)));for(var p=1,v=!0;p<n.length;p+=1){var m=n[p],w=Pr(m,0,1),P=Pr(m,-1);if((w==='"'||w==="'"||w==="`"||P==='"'||P==="'"||P==="`")&&w!==P)throw new rr("property names with quotes must have matching quotes");if((m==="constructor"||!v)&&(o=!0),a+="."+m,f="%"+a+"%",wr(V,f))l=V[f];else if(l!=null){if(!(m in l)){if(!e)throw new j("base intrinsic for "+t+" exists, but the property is not available.");return}if(ir&&p+1>=n.length){var A=ir(l,m);v=!!A,v&&"get"in A&&!("originalValue"in A.get)?l=A.get:l=l[m]}else v=wr(l,m),l=l[m];v&&!o&&(V[f]=l)}}return l},mt=dt,bt=Zr,oi=bt([mt("%String.prototype.indexOf%")]),wt=function(t,e){var n=mt(t,!!e);return typeof n=="function"&&oi(t,".prototype.")>-1?bt([n]):n},Re=Ar,fi=lt,Z=Er,Be=lr,Pt=function(t,e,n){if(!t||typeof t!="object"&&typeof t!="function")throw new Z("`obj` must be an object or a function`");if(typeof e!="string"&&typeof e!="symbol")throw new Z("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Z("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Z("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Z("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Z("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,o=!!Be&&Be(t,e);if(Re)Re(t,e,{configurable:f===null&&o?o.configurable:!f,enumerable:a===null&&o?o.enumerable:!a,value:n,writable:i===null&&o?o.writable:!i});else if(l||!a&&!i&&!f)t[e]=n;else throw new fi("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Ur=Ar,Mt=function(){return!!Ur};Mt.hasArrayLengthDefineBug=function(){if(!Ur)return null;try{return Ur([],"length",{value:1}).length!==1}catch{return!0}};var St=Mt,li=Jn,ui=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",si=Object.prototype.toString,ci=Array.prototype.concat,Fe=Pt,yi=function(r){return typeof r=="function"&&si.call(r)==="[object Function]"},Et=St(),vi=function(r,t,e,n){if(t in r){if(n===!0){if(r[t]===e)return}else if(!yi(n)||!n())return}Et?Fe(r,t,e,!0):Fe(r,t,e)},At=function(r,t){var e=arguments.length>2?arguments[2]:{},n=li(t);ui&&(n=ci.call(n,Object.getOwnPropertySymbols(t)));for(var a=0;a<n.length;a+=1)vi(r,n[a],t[n[a]],e[n[a]])};At.supportsDescriptors=!!Et;var to=At,$t={exports:{}},hi=dt,Le=Pt,pi=St(),ke=lr,Ge=Er,gi=hi("%Math.floor%"),di=function(t,e){if(typeof t!="function")throw new Ge("`fn` is not a function");if(typeof e!="number"||e<0||e>4294967295||gi(e)!==e)throw new Ge("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],a=!0,i=!0;if("length"in t&&ke){var f=ke(t,"length");f&&!f.configurable&&(a=!1),f&&!f.writable&&(i=!1)}return(a||i||!n)&&(pi?Le(t,"length",e,!0,!0):Le(t,"length",e)),t},mi=ur,bi=Qr,wi=ct,Pi=function(){return wi(mi,bi,arguments)};(function(r){var t=di,e=Ar,n=Zr,a=Pi;r.exports=function(f){var l=n(arguments),o=f.length-(arguments.length-1);return t(l,1+(o>0?o:0),!0)},e?e(r.exports,"apply",{value:a}):r.exports.apply=a})($t);var no=$t.exports,Ne=wt,Mi=ot(),Si=ht,Ei=lr,xr;if(Mi){var Ai=Ne("RegExp.prototype.exec"),_e={},Gr=function(){throw _e},De={toString:Gr,valueOf:Gr};typeof Symbol.toPrimitive=="symbol"&&(De[Symbol.toPrimitive]=Gr),xr=function(t){if(!t||typeof t!="object")return!1;var e=Ei(t,"lastIndex"),n=e&&Si(e,"value");if(!n)return!1;try{Ai(t,De)}catch(a){return a===_e}}}else{var $i=Ne("Object.prototype.toString"),Oi="[object RegExp]";xr=function(t){return!t||typeof t!="object"&&typeof t!="function"?!1:$i(t)===Oi}}var ao=xr,or=function(){return typeof(function(){}).name=="string"},nr=Object.getOwnPropertyDescriptor;if(nr)try{nr([],"length")}catch{nr=null}or.functionsHaveConfigurableNames=function(){if(!or()||!nr)return!1;var t=nr(function(){},"name");return!!t&&!!t.configurable};var Ci=Function.prototype.bind;or.boundFunctionsHaveNames=function(){return or()&&typeof Ci=="function"&&(function(){}).bind().name!==""};var io=or,Ot=wt,Ri=Ot("Date.prototype.getDay"),Bi=function(t){try{return Ri(t),!0}catch{return!1}},Fi=Ot("Object.prototype.toString"),Li="[object Date]",ki=ot(),oo=function(t){return typeof t!="object"||t===null?!1:ki?Bi(t):Fi(t)===Li};function Gi(r){var t=r%(2*Math.PI);return t*180/Math.PI}function Nr(r){var t=r%360;return t*Math.PI/180}function Ni(r,t,e){e===void 0&&(e={});var n;e.final?n=Te(N(t),N(r)):n=Te(N(r),N(t));var a=n>180?-(360-n):n;return a}function Te(r,t){var e=Nr(r[1]),n=Nr(t[1]),a=Nr(t[0]-r[0]);a>Math.PI&&(a-=2*Math.PI),a<-Math.PI&&(a+=2*Math.PI);var i=Math.log(Math.tan(n/2+Math.PI/4)/Math.tan(e/2+Math.PI/4)),f=Math.atan2(a,i);return(Gi(f)+360)%360}var D=63710088e-1,Ct={centimeters:D*100,centimetres:D*100,degrees:D/111325,feet:D*3.28084,inches:D*39.37,kilometers:D/1e3,kilometres:D/1e3,meters:D,metres:D,miles:D/1609.344,millimeters:D*1e3,millimetres:D*1e3,nauticalmiles:D/1852,radians:1,yards:D*1.0936};function _i(r,t,e){e===void 0&&(e={});var n={type:"Feature"};return(e.id===0||e.id)&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.properties=t||{},n.geometry=r,n}function Di(r,t,e){if(e===void 0&&(e={}),!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!qe(r[0])||!qe(r[1]))throw new Error("coordinates must contain numbers");var n={type:"Point",coordinates:r};return _i(n,t,e)}function Ti(r,t){var e=Ct[t];return r*e}function Yi(r,t){t===void 0&&(t="kilometers");var e=Ct[t];if(!e)throw new Error(t+" units is invalid");return r/e}function Ye(r){var t=r%360;return t*Math.PI/180}function qi(r,t,e){if(t===void 0&&(t="kilometers"),!(r>=0))throw new Error("length must be a positive number");return Ti(Yi(r,t),e)}function qe(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}function Xi(r,t,e,n){n===void 0&&(n={});var a=t<0,i=qi(Math.abs(t),n.units,"meters");a&&(i=-Math.abs(i));var f=N(r),l=Ui(f,i,e);return l[0]+=l[0]-f[0]>180?-360:f[0]-l[0]>180?360:0,Di(l,n.properties)}function Ui(r,t,e,n){n=n===void 0?D:Number(n);var a=t/n,i=r[0]*Math.PI/180,f=Ye(r[1]),l=Ye(e),o=a*Math.cos(l),s=f+o;Math.abs(s)>Math.PI/2&&(s=s>0?Math.PI-s:-Math.PI-s);var p=Math.log(Math.tan(s/2+Math.PI/4)/Math.tan(f/2+Math.PI/4)),v=Math.abs(p)>1e-11?o/p:Math.cos(f),m=a*Math.sin(l)/v,w=i+m;return[(w*180/Math.PI+540)%360-180,s*180/Math.PI]}function xi(r){if(!r)throw new Error("geojson is required");switch(r.type){case"Feature":return Rt(r);case"FeatureCollection":return Wi(r);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Ir(r);default:throw new Error("unknown GeoJSON type")}}function Rt(r){var t={type:"Feature"};return Object.keys(r).forEach(function(e){switch(e){case"type":case"properties":case"geometry":return;default:t[e]=r[e]}}),t.properties=Bt(r.properties),t.geometry=Ir(r.geometry),t}function Bt(r){var t={};return r&&Object.keys(r).forEach(function(e){var n=r[e];typeof n=="object"?n===null?t[e]=null:Array.isArray(n)?t[e]=n.map(function(a){return a}):t[e]=Bt(n):t[e]=n}),t}function Wi(r){var t={type:"FeatureCollection"};return Object.keys(r).forEach(function(e){switch(e){case"type":case"features":return;default:t[e]=r[e]}}),t.features=r.features.map(function(e){return Rt(e)}),t}function Ir(r){var t={type:r.type};return r.bbox&&(t.bbox=r.bbox),r.type==="GeometryCollection"?(t.geometries=r.geometries.map(function(e){return Ir(e)}),t):(t.coordinates=Ft(r.coordinates),t)}function Ft(r){var t=r;return typeof t[0]!="object"?t.slice():t.map(function(e){return Ft(e)})}function Ji(r){return!!r&&r.constructor===Object}function Lt(r,t,e){if(r!==null)for(var n,a,i,f,l,o,s,p=0,v=0,m,w=r.type,P=w==="FeatureCollection",A=w==="Feature",C=P?r.features.length:1,$=0;$<C;$++){s=P?r.features[$].geometry:A?r.geometry:r,m=s?s.type==="GeometryCollection":!1,l=m?s.geometries.length:1;for(var c=0;c<l;c++){var u=0,y=0;if(f=m?s.geometries[c]:s,f!==null){o=f.coordinates;var h=f.type;switch(p=0,h){case null:break;case"Point":if(t(o,v,$,u,y)===!1)return!1;v++,u++;break;case"LineString":case"MultiPoint":for(n=0;n<o.length;n++){if(t(o[n],v,$,u,y)===!1)return!1;v++,h==="MultiPoint"&&u++}h==="LineString"&&u++;break;case"Polygon":case"MultiLineString":for(n=0;n<o.length;n++){for(a=0;a<o[n].length-p;a++){if(t(o[n][a],v,$,u,y)===!1)return!1;v++}h==="MultiLineString"&&u++,h==="Polygon"&&y++}h==="Polygon"&&u++;break;case"MultiPolygon":for(n=0;n<o.length;n++){for(y=0,a=0;a<o[n].length;a++){for(i=0;i<o[n][a].length-p;i++){if(t(o[n][a][i],v,$,u,y)===!1)return!1;v++}y++}u++}break;case"GeometryCollection":for(n=0;n<f.geometries.length;n++)if(Lt(f.geometries[n],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function fo(r,t,e){if(e=e||{},!Ji(e))throw new Error("options is invalid");var n=e.pivot,a=e.mutate;if(!r)throw new Error("geojson is required");if(t==null||isNaN(t))throw new Error("angle is required");return t===0||(n||(n=jt(r)),(a===!1||a===void 0)&&(r=xi(r)),Lt(r,function(i){var f=Ni(n,i),l=f+t,o=Rn(n,i),s=z(Xi(n,o,l));i[0]=s[0],i[1]=s[1]})),r}function jr(r,t,e){e===void 0&&(e={});var n={type:"Feature"};return(e.id===0||e.id)&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.properties=t||{},n.geometry=r,n}function zi(r,t,e){if(e===void 0&&(e={}),!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Xe(r[0])||!Xe(r[1]))throw new Error("coordinates must contain numbers");var n={type:"Point",coordinates:r};return jr(n,t,e)}function lo(r,t,e){return e===void 0&&(e={}),Hi(r.map(function(n){return zi(n,t)}),e)}function uo(r,t,e){e===void 0&&(e={});for(var n=0,a=r;n<a.length;n++){var i=a[n];if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var f=0;f<i[i.length-1].length;f++)if(i[i.length-1][f]!==i[0][f])throw new Error("First and last Position are not equivalent.")}var l={type:"Polygon",coordinates:r};return jr(l,t,e)}function so(r,t,e){if(e===void 0&&(e={}),r.length<2)throw new Error("coordinates must be an array of two or more positions");var n={type:"LineString",coordinates:r};return jr(n,t,e)}function Hi(r,t){t===void 0&&(t={});var e={type:"FeatureCollection"};return t.id&&(e.id=t.id),t.bbox&&(e.bbox=t.bbox),e.features=r,e}function Xe(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}export{Kn as A,lt as B,it as C,ao as D,la as E,oo as F,Pt as G,St as H,to as I,ea as J,ra as K,Ar as L,io as M,ft as N,Zi as O,Qi as P,Vt as Q,aa as _,uo as a,W as b,Mr as c,ar as d,jt as e,mr as f,eo as g,Ki as h,ro as i,ji as j,lo as k,so as l,Ii as m,wt as n,lr as o,zi as p,Ra as q,no as r,ot as s,fo as t,Er as u,jn as v,In as w,dt as x,ht as y,ta as z};
